<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Events - CommunityConnect</title>
  <link rel="stylesheet" href="Home.css">
  <script src="script.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="logo">
      <img src="images/logo_2_Unity.png" alt="CommunityConnect Logo">
    </div>
    <div class="nav-links">
      <a href="#" id="themeToggle"><i class="fa-solid fa-moon"></i> Theme</a>
      <a href="#">Settings</a>
      <a href="#">Log Out</a>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <!-- SIDEBAR -->
    <aside class="left-sidebar">
      <div class="nav-card">
        <a href="Home.html" class="nav-item"><i class="fa-solid fa-house"></i>&nbsp;&nbsp;&nbsp; Home</a>
        <a href="Groups.html" class="nav-item"><i class="fa-solid fa-users"></i>&nbsp;&nbsp;&nbsp; Groups</a>
        <a href="Events.html" class="nav-item active"><i class="fa-solid fa-calendar-days"></i>&nbsp;&nbsp;&nbsp; Events</a>
        <a href="Profile.html" class="nav-item"><i class="fa-solid fa-user"></i>&nbsp;&nbsp;&nbsp; Profile</a>
        <a href="Settings.html" class="nav-item"><i class="fa-solid fa-gear"></i>&nbsp;&nbsp;&nbsp; Settings</a>
      </div>
    </aside>

    <!-- MAIN SECTION -->
    <section class="feed">
      <h1>Community Events</h1>
      <p>Plan, add, and view all upcoming community events here.</p>

      <!-- EVENT FORM -->
      <div class="composer" style="margin-top: 1.5rem;">
        <input type="text" id="eventName" placeholder="Event name..." style="flex:1; border:1px solid #ccc; border-radius:8px; padding:0.5rem;">
        <input type="date" id="eventDate" style="border:1px solid #ccc; border-radius:8px; padding:0.5rem;">
        <button id="addEventBtn"><i class="fa-solid fa-plus"></i> Add Event</button>
      </div>

      <!-- EVENT LIST -->
      <div id="eventList" style="margin-top: 2rem;">
        <div class="card">
          <h3>Upcoming Events</h3>
          <div class="event">
            <div class="event-info">
              <h4>Neighborhood Cleanup</h4>
              <p>Oct 30, 2025</p>
            </div>
            <button>RSVP</button>
          </div>
          <div class="event">
            <div class="event-info">
              <h4>Food Drive</h4>
              <p>Nov 3, 2025</p>
            </div>
            <button>RSVP</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- INLINE PAGE SCRIPT -->
  <script>
    // =============== ADD NEW EVENT ===============
    const addEventBtn = document.getElementById("addEventBtn");
    const eventName = document.getElementById("eventName");
    const eventDate = document.getElementById("eventDate");
    const eventList = document.querySelector("#eventList .card");

    if (addEventBtn) {
      addEventBtn.addEventListener("click", () => {
        const name = eventName.value.trim();
        const date = eventDate.value;

        if (name === "" || date === "") {
          alert("Please fill out both the event name and date!");
          return;
        }

        // Create event block
        const newEvent = document.createElement("div");
        newEvent.classList.add("event");
        newEvent.innerHTML = `
          <div class="event-info">
            <h4>${name}</h4>
            <p>${new Date(date).toDateString()}</p>
          </div>
          <button>RSVP</button>
        `;

        // Add before existing events
        eventList.insertBefore(newEvent, eventList.children[1]);

        // Clear inputs
        eventName.value = "";
        eventDate.value = "";

        // Add RSVP functionality to the new button
        const btn = newEvent.querySelector("button");
        btn.addEventListener("click", () => {
          btn.textContent = "Joined!";
          btn.style.backgroundColor = "#0074e8";
          btn.disabled = true;
        });
      });
    }

    // =============== RSVP INTERACTION (existing) ===============
    document.querySelectorAll(".event button").forEach((btn) => {
      btn.addEventListener("click", () => {
        btn.textContent = "Joined!";
        btn.style.backgroundColor = "#0074e8";
        btn.disabled = true;
      });
    });
  </script>
</body>
</html>
