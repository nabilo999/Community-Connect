<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - CommunityConnect</title>
  <link rel="stylesheet" href="Home.css">
  <script src="script.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="logo">
      <img src="images/logo_2_Unity.png" alt="CommunityConnect Logo">
    </div>
    <div class="nav-links">
      <a href="#" id="themeToggle"><i class="fa-solid fa-moon"></i> Theme</a>
      <a href="#">Settings</a>
      <a href="#">Log Out</a>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <!-- SIDEBAR -->
    <aside class="left-sidebar">
      <div class="nav-card">
        <a href="Home.html" class="nav-item"><i class="fa-solid fa-house"></i>&nbsp;&nbsp;&nbsp; Home</a>
        <a href="Groups.html" class="nav-item"><i class="fa-solid fa-users"></i>&nbsp;&nbsp;&nbsp; Groups</a>
        <a href="Events.html" class="nav-item"><i class="fa-solid fa-calendar-days"></i>&nbsp;&nbsp;&nbsp; Events</a>
        <a href="Profile.html" class="nav-item"><i class="fa-solid fa-user"></i>&nbsp;&nbsp;&nbsp; Profile</a>
        <a href="Settings.html" class="nav-item active"><i class="fa-solid fa-gear"></i>&nbsp;&nbsp;&nbsp; Settings</a>
      </div>
    </aside>

    <!-- SETTINGS SECTION -->
    <section class="feed">
      <h1>Settings</h1>
      <p>Manage your app preferences and account settings below.</p>

      <!-- SETTINGS CARD -->
      <div class="card" style="max-width:600px; margin-top:2rem;">
        <h3>Preferences</h3>

        <div style="display:flex; align-items:center; justify-content:space-between; margin:1rem 0;">
          <label><i class="fa-solid fa-bell"></i> Enable Notifications</label>
          <input type="checkbox" id="notifToggle" checked>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between; margin:1rem 0;">
          <label><i class="fa-solid fa-envelope"></i> Email Updates</label>
          <input type="checkbox" id="emailToggle" checked>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between; margin:1rem 0;">
          <label><i class="fa-solid fa-lock"></i> Private Profile</label>
          <input type="checkbox" id="privacyToggle">
        </div>

        <hr style="margin:1.5rem 0;">

        <div style="display:flex; flex-direction:column; gap:0.8rem;">
          <button id="saveSettingsBtn"><i class="fa-solid fa-floppy-disk"></i> Save Settings</button>
          <button id="resetThemeBtn" style="background-color:#d9534f;"><i class="fa-solid fa-rotate-left"></i> Reset Theme</button>
        </div>
      </div>

      <p id="saveMessage" style="margin-top:1rem; color:#4cab74; display:none;">
        âœ… Settings saved successfully!
      </p>
    </section>
  </main>

  <!-- INLINE PAGE SCRIPT -->
  <script>
    // ==============================
    // 1. Save Settings
    // ==============================
    const saveSettingsBtn = document.getElementById("saveSettingsBtn");
    const notifToggle = document.getElementById("notifToggle");
    const emailToggle = document.getElementById("emailToggle");
    const privacyToggle = document.getElementById("privacyToggle");
    const saveMsg = document.getElementById("saveMessage");

    saveSettingsBtn.addEventListener("click", () => {
      const settings = {
        notifications: notifToggle.checked,
        emails: emailToggle.checked,
        privateProfile: privacyToggle.checked,
      };

      localStorage.setItem("userSettings", JSON.stringify(settings));
      saveMsg.style.display = "block";
      setTimeout(() => (saveMsg.style.display = "none"), 2000);
    });

    // ==============================
    // 2. Load Saved Settings
    // ==============================
    const savedSettings = JSON.parse(localStorage.getItem("userSettings"));
    if (savedSettings) {
      notifToggle.checked = savedSettings.notifications;
      emailToggle.checked = savedSettings.emails;
      privacyToggle.checked = savedSettings.privateProfile;
    }

    // ==============================
    // 3. Reset Theme to Light
    // ==============================
    const resetThemeBtn = document.getElementById("resetThemeBtn");
    resetThemeBtn.addEventListener("click", () => {
      document.body.classList.remove("dark-mode");
      localStorage.setItem("theme", "light");
      alert("Theme reset to light mode ðŸŒž");
    });
  </script>
</body>
</html>
